<html>
<head>
<script src="math.js" type="text/javascript"></script>
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css">
.item { 
    -moz-user-select: -moz-none;
    -khtml-user-select: none;
    -webkit-user-select: none;
    -o-user-select: none;
    user-select: none;
}
div {
width: 100%; 
height: 100%;
padding: 0;
margin:0;
position: absolute; 
top: 0; 
right: 0; 
bottom: 0; 
left: 0;} 
* { margin:0; padding:0; }
</style>

</head>
<body onload="load()" bgcolor="#000">
<canvas id="canvas" width="1" height="1">Sorry, your browser does not support JavaScript canvas, or it is disabled.</canvas>
<script type="application/javascript">

/** As far a I can tell this is how you do println in Javascript? */
function print(msg){setTimeout(function(){throw new Error(msg);},0);}

function drawImage(imageObj) {
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    context.drawImage(imageObj, 9, 9);
    var imageData = context.getImageData(x, y, imageObj.width, imageObj.height);
    var data = imageData.data;
    for(var i = 0; i < data.length; i += 4) {
      data[i] = 255 - data[i];
      data[i + 1] = 255 - data[i + 1];
      data[i + 2] = 255 - data[i + 2];
    }

    // overwrite original image
    context.putImageData(imageData, x, y);
  }
  
  var imageObj = new Image();
  imageObj.onload = function() {
    drawImage(this);
  };
  imageObj.src = 'PxAx3uO.jpg';//darth-vader.jpg';
</script>

</body>
</html>
